#coding:utf-8
from json import load
import sys, os
sys.path.append(os.path.realpath(os.path.dirname('src'))) # import src folder relative path
from src.fonctions import div_euclid, F, sont_egale
from src.image_transfert import uncut, k
import unittest


class testFonctions(unittest.TestCase):
    def test_uncut_really_uncuts(self):
        A = [[i,2*i] for i in range(k)]
        B = uncut(A)
        for idx, num in enumerate(B):
            self.assertEqual(type(num),int)
    
    def test_division_euclidienne(self):
        A, B = [3, 8, 7, 3], [15, 2, 12]
        Q, R = div_euclid(A, B)
        c = []
        for k in range(0, len(B)+len(Q)):
            S = 0
            for m in range(k):
                if k-m < len(B) and m < len(Q):
                    S += F.Multiply(B[k-m], Q[m])
                else:
                    S+= 0
            c.append(S)
        somme = lambda x, y: x+y
        A_p = list(map(somme, c, R))
        print("A : ", A)
        print("B : ", B)
        print("Q : ", Q)
        print("R : ", R)
        print("A_p : ", A_p)
        
        print(F.Multiply(15, 6), "x3+", F.Add(F.Multiply(15, 13), F.Multiply(6,2)), "x2+", F.Add(F.Multiply(2,13), F.Multiply(6,12)), "x+", F.Multiply(12,13))
        
        
if __name__ == '__main__':
    unittest.main()
else:
    print('name of the module:', __name__)
    